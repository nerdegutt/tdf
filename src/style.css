@import "tailwindcss";
@import "leaflet/dist/leaflet.css";

:root {
  --color-sights: #2563eb;
  --color-history: #9333ea;
  --color-photo: #16a34a;
  --color-accommodation: #d97706;
  --color-food: #dc2626;
  --color-practical: #475569;
  --color-booking: #0891b2;
}

/* Dagkart slide-animasjon */
#day-map-wrapper {
  display: grid;
  transition: grid-template-rows 0.3s ease, opacity 0.3s ease;
  overflow: hidden;
}

#day-map-wrapper.map-visible {
  grid-template-rows: 1fr;
  opacity: 1;
}

#day-map-wrapper.map-hidden {
  grid-template-rows: 0fr;
  opacity: 0;
}

#day-map-wrapper > div {
  overflow: hidden;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: system-ui, -apple-system, sans-serif;
}

/* Leaflet-fikser for Tailwind reset */
.leaflet-container {
  font-family: inherit;
}

.leaflet-popup-content a {
  color: var(--color-sights);
}

/* Dag-markør på kartet */
.day-marker {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: #1e40af;
  color: white;
  font-weight: 700;
  font-size: 13px;
  border: 3px solid white;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
}

.stop-marker {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  background: #f59e0b;
  color: white;
  font-weight: 700;
  font-size: 10px;
  border: 2px solid white;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.25);
}

/* Seksjon-border-farger */
.section-sights { border-left-color: var(--color-sights); }
.section-history { border-left-color: var(--color-history); }
.section-photo { border-left-color: var(--color-photo); }
.section-accommodation { border-left-color: var(--color-accommodation); }
.section-food { border-left-color: var(--color-food); }
.section-practical { border-left-color: var(--color-practical); }

/* Booking-callout */
.booking-callout {
  background: #ecfeff;
  border-left: 4px solid var(--color-booking);
}

/* Content-styling inne i seksjoner */
.section-content ul {
  list-style: disc;
  padding-left: 1.25rem;
  margin: 0.5rem 0;
}

.section-content li {
  margin-bottom: 0.35rem;
  line-height: 1.6;
}

.section-content p {
  margin-bottom: 0.75rem;
  line-height: 1.6;
}

.section-content a {
  color: var(--color-sights);
  text-decoration: underline;
  text-underline-offset: 2px;
}

.section-content a:hover {
  opacity: 0.8;
}

.photo-search-link {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.85rem;
  color: var(--color-photo) !important;
  text-decoration: none !important;
  opacity: 0.7;
}

.photo-search-link:hover {
  opacity: 1 !important;
}

/* Smal mobil: dropdown under logo */
@media (max-width: 40rem) {
  header > div {
    flex-wrap: wrap;
  }

  #mobile-nav {
    width: 100%;
    padding-top: 0.5rem;
  }

  #mobile-nav select {
    width: 100%;
  }
}

/* ====== Dark Theme ====== */
html.dark {
  color-scheme: dark;
}

/* --- Stone palette inversion --- */
html.dark .bg-stone-50 { background-color: #1c1917; }
html.dark .bg-white { background-color: #292524; }
html.dark .bg-blue-50 { background-color: rgba(30, 64, 175, 0.15); }

html.dark .text-stone-900 { color: #fafaf9; }
html.dark .text-stone-800 { color: #f5f5f4; }
html.dark .text-stone-700 { color: #e7e5e4; }
html.dark .text-stone-600 { color: #d6d3d1; }
html.dark .text-stone-500 { color: #a8a29e; }
html.dark .text-stone-400 { color: #78716c; }

html.dark .text-blue-700 { color: #60a5fa; }
html.dark .text-blue-800 { color: #60a5fa; }
html.dark .text-blue-900 { color: #93c5fd; }
html.dark .text-cyan-700 { color: #22d3ee; }

html.dark .border-stone-200 { border-color: #44403c; }

html.dark .hover\:bg-stone-100:hover { background-color: #44403c; }
html.dark .hover\:bg-stone-50:hover { background-color: #292524; }
html.dark .hover\:text-stone-900:hover { color: #fafaf9; }
html.dark .hover\:text-blue-900:hover { color: #bfdbfe; }
html.dark .hover\:text-blue-800:hover { color: #93c5fd; }

/* --- Shadows for dark --- */
html.dark .shadow-sm {
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
}

html.dark .hover\:shadow-md:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
}

/* --- Section content --- */
html.dark .section-content { color: #d6d3d1; }
html.dark .section-content a { color: #60a5fa; }

/* --- Booking callout --- */
html.dark .booking-callout {
  background: rgba(8, 145, 178, 0.1);
  border-left-color: #06b6d4;
}

/* --- Header --- */
html.dark header {
  background-color: #1a1a1a;
  border-bottom: 1px solid #44403c;
}

/* --- Sidebar --- */
html.dark #sidebar {
  background-color: #1c1917;
  border-color: #44403c;
}

/* --- Photo search link --- */
html.dark .photo-search-link {
  color: #4ade80 !important;
}

/* --- Leaflet dark mode --- */
html.dark .leaflet-popup-content-wrapper {
  background: #292524;
  color: #d6d3d1;
}

html.dark .leaflet-popup-tip {
  background: #292524;
}

html.dark .leaflet-popup-content a {
  color: #60a5fa;
}

html.dark .leaflet-bar a {
  background-color: #292524;
  color: #d6d3d1;
  border-color: #44403c;
}

html.dark .leaflet-bar a:hover {
  background-color: #44403c;
}

html.dark .leaflet-control-attribution {
  background: rgba(28, 25, 23, 0.8);
  color: #78716c;
}

html.dark .leaflet-control-attribution a {
  color: #60a5fa;
}

/* --- Theme toggle switch --- */
.theme-switch {
  position: relative;
  display: inline-flex;
  align-items: center;
  cursor: pointer;
}

.theme-switch input {
  position: absolute;
  opacity: 0;
  pointer-events: none;
}

.theme-track {
  position: relative;
  width: 2.25rem;
  height: 1.25rem;
  background-color: #d6d3d1;
  border-radius: 9999px;
  transition: background-color 0.2s ease;
}

.theme-switch input:checked + .theme-track {
  background-color: #3b82f6;
}

.theme-thumb {
  position: absolute;
  top: 2px;
  left: 2px;
  width: 1rem;
  height: 1rem;
  background-color: white;
  border-radius: 9999px;
  transition: transform 0.2s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.theme-switch input:checked + .theme-track .theme-thumb {
  transform: translateX(1rem);
}
